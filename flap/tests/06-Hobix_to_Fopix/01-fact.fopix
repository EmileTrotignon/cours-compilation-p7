def lambda_for_fact_1 (closure_for_fact_1, n) =
  if (n =? 0) then
    1
  else
    (n
    *
    call
    (read_block (read_block (closure_for_fact_1, 1), 0))
    with
    (read_block (closure_for_fact_1, 1), (n - 1)))
  end
val fact =
  allocate_block (2)
val fact =
  val ignore_3 =
    write_block (fact, 0, &lambda_for_fact_1)
    ;
  val ignore_2 = write_block (fact, 1, fact) ; fact
val main =
  print_int (call (read_block (fact, 0)) with (fact, 5))